<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kidney Health Checker</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
        :root {
            --primary: #1a6fc9;
            --primary-light: #e8f4fc;
            --danger: #e74c3c;
            --warning: #f39c12;
            --success: #27ae60;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f9fc;
        }
        
        header {
            background-color: var(--primary);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        h1, h2, h3 {
            color: var(--primary);
        }
        
        .card {
            background-color: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .symptom-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .symptom-card {
            padding: 15px;
            border-radius: 8px;
            background-color: #f8f9fa;
            border-left: 4px solid var(--primary);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }
        
        .symptom-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .symptom-card.selected {
            background-color: var(--primary-light);
            border-left: 4px solid var(--danger);
        }
        
        .symptom-card input {
            margin-right: 10px;
            transform: scale(1.3);
        }
        
        button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            margin-top: 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #145da0;
        }
        
        .ar-viewer {
            width: 100%;
            height: 500px;
            margin: 20px 0;
            border-radius: 8px;
            overflow: hidden;
            background-color: #000;
        }
        
        .stage-selector {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .stage-btn {
            padding: 8px 15px;
            background-color: var(--primary-light);
            border: none;
            border-radius: 20px;
            cursor: pointer;
        }
        
        .stage-btn.active {
            background-color: var(--primary);
            color: white;
        }
        
        .stage-info {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
        
        .risk-indicator {
            height: 20px;
            background: linear-gradient(to right, var(--success), var(--warning), var(--danger));
            border-radius: 10px;
            margin: 20px 0;
            position: relative;
        }
        
        .risk-marker {
            position: absolute;
            top: -5px;
            width: 3px;
            height: 30px;
            background-color: #333;
        }
        
        .hidden {
            display: none;
        }
        
        .result-card {
            text-align: center;
            padding: 30px;
        }
        
        .risk-high {
            color: var(--danger);
            font-size: 24px;
            font-weight: bold;
        }
        
        .risk-medium {
            color: var(--warning);
            font-size: 24px;
            font-weight: bold;
        }
        
        .risk-low {
            color: var(--success);
            font-size: 24px;
            font-weight: bold;
        }
        
        @media (max-width: 768px) {
            .symptom-grid {
                grid-template-columns: 1fr;
            }
            
            .stage-selector {
                flex-direction: column;
            }
            
            .stage-btn {
                width: 100%;
            }
            
            .ar-viewer {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Kidney Health Checker</h1>
        <p>Understand your kidney health through symptoms and 3D visualization</p>
    </header>
    
    <section class="card" id="symptom-checker">
        <h2>Check Your Symptoms</h2>
        <p>Select all symptoms you're experiencing to assess your kidney health risk:</p>
        
        <div class="symptom-grid">
            <label class="symptom-card">
                <input type="checkbox" name="fatigue"> Fatigue or weakness
            </label>
            <label class="symptom-card">
                <input type="checkbox" name="swelling"> Swelling in feet/ankles
            </label>
            <label class="symptom-card">
                <input type="checkbox" name="shortness"> Shortness of breath
            </label>
            <label class="symptom-card">
                <input type="checkbox" name="appetite"> Poor appetite
            </label>
            <label class="symptom-card">
                <input type="checkbox" name="sleep"> Trouble sleeping
            </label>
            <label class="symptom-card">
                <input type="checkbox" name="urination"> Changes in urination
            </label>
            <label class="symptom-card">
                <input type="checkbox" name="nausea"> Nausea or vomiting
            </label>
            <label class="symptom-card">
                <input type="checkbox" name="itching"> Persistent itching
            </label>
            <label class="symptom-card">
                <input type="checkbox" name="muscle"> Muscle cramps
            </label>
            <label class="symptom-card">
                <input type="checkbox" name="blood"> Blood in urine
            </label>
            <label class="symptom-card">
                <input type="checkbox" name="pressure"> High blood pressure
            </label>
            <label class="symptom-card">
                <input type="checkbox" name="diabetes"> Diabetes
            </label>
        </div>
        
        <button id="check-symptoms">Check My Kidney Health</button>
    </section>
    
    <section class="card hidden" id="result-section">
        <div class="result-card">
            <h2>Your Kidney Health Assessment</h2>
            <p>Based on your symptoms:</p>
            <div id="risk-level" class="risk-low">Low Risk</div>
            <div class="risk-indicator">
                <div id="risk-marker" class="risk-marker" style="left: 10%;"></div>
            </div>
            <p id="risk-description">Your symptoms suggest minimal risk of kidney disease.</p>
        </div>
        
        <h3>3D Kidney Health Visualization</h3>
        <p>See how chronic kidney disease progresses through different stages:</p>
        
        <div class="ar-viewer">
            <model-viewer 
                id="kidney-model"
                src="https://modelviewer.dev/shared-assets/models/NeilArmstrong.glb"
                alt="3D model of human kidneys"
                camera-controls
                auto-rotate
                environment-image="neutral"
                exposure="0.8">
            </model-viewer>
        </div>
        
        <div class="stage-selector">
            <button class="stage-btn active" data-stage="normal">Healthy Kidney</button>
            <button class="stage-btn" data-stage="early">Early Stage</button>
            <button class="stage-btn" data-stage="moderate">Moderate Damage</button>
            <button class="stage-btn" data-stage="severe">Severe Damage</button>
            <button class="stage-btn" data-stage="failure">Kidney Failure</button>
        </div>
        
        <div class="stage-info">
            <h4 id="stage-title">Healthy Kidney</h4>
            <p id="stage-description">A normal, healthy kidney filters waste and excess fluids from your blood. The kidney appears smooth with uniform texture and normal size.</p>
            <ul id="stage-symptoms">
                <li>No symptoms typically present</li>
                <li>Normal urine output</li>
                <li>Normal blood pressure</li>
            </ul>
        </div>
        
        <button id="back-to-symptoms">Check Again</button>
    </section>
    
    <footer>
        <p><strong>Disclaimer:</strong> This tool is for educational purposes only and not a substitute for professional medical advice.</p>
    </footer>
    
    <script>
        document.getElementById('check-symptoms').addEventListener('click', function() {
            // Count checked symptoms
            const checkboxes = document.querySelectorAll('.symptom-grid input[type="checkbox"]:checked');
            const symptomCount = checkboxes.length;
            
            // Determine risk level
            let riskLevel, riskClass, riskPercentage, description;
            
            if (symptomCount === 0) {
                riskLevel = "No Symptoms Reported";
                riskClass = "risk-low";
                riskPercentage = "5%";
                description = "You reported no symptoms associated with kidney disease. Maintain healthy habits and regular checkups.";
            } else if (symptomCount <= 2) {
                riskLevel = "Low Risk";
                riskClass = "risk-low";
                riskPercentage = "15%";
                description = "You have few symptoms that may or may not be related to kidney issues. Consider monitoring your symptoms.";
            } else if (symptomCount <= 5) {
                riskLevel = "Moderate Risk";
                riskClass = "risk-medium";
                riskPercentage = "45%";
                description = "Your symptoms suggest possible kidney concerns. We recommend consulting a healthcare provider.";
            } else {
                riskLevel = "High Risk";
                riskClass = "risk-high";
                riskPercentage = "75%";
                description = "You have multiple symptoms associated with kidney disease. Please see a doctor for proper evaluation.";
            }
            
            // Update result display
            document.getElementById('risk-level').textContent = riskLevel;
            document.getElementById('risk-level').className = riskClass;
            document.getElementById('risk-marker').style.left = riskPercentage;
            document.getElementById('risk-description').textContent = description;
            
            // Show result section
            document.getElementById('symptom-checker').classList.add('hidden');
            document.getElementById('result-section').classList.remove('hidden');
            
            // Initialize 3D viewer
            setupKidneyViewer();
        });
        
        document.getElementById('back-to-symptoms').addEventListener('click', function() {
            document.getElementById('result-section').classList.add('hidden');
            document.getElementById('symptom-checker').classList.remove('hidden');
        });
        
        function setupKidneyViewer() {
            const stageButtons = document.querySelectorAll('.stage-btn');
            const stageTitle = document.getElementById('stage-title');
            const stageDesc = document.getElementById('stage-description');
            const stageSymptoms = document.getElementById('stage-symptoms');
            
            // Stage information data
            const stages = {
                normal: {
                    title: "Healthy Kidney",
                    description: "A normal, healthy kidney filters waste and excess fluids from your blood efficiently.",
                    symptoms: [
                        "No symptoms typically present",
                        "Normal urine output",
                        "Normal blood pressure"
                    ],
                    exposure: 0.8
                },
                early: {
                    title: "Early Stage Kidney Disease",
                    description: "Mild damage with some filtering impairment, but usually no noticeable symptoms.",
                    symptoms: [
                        "Possible mild fatigue",
                        "Slightly elevated blood pressure",
                        "Possible protein in urine"
                    ],
                    exposure: 0.7
                },
                moderate: {
                    title: "Moderate Kidney Damage",
                    description: "Noticeable reduction in kidney function with some symptoms appearing.",
                    symptoms: [
                        "Fatigue and weakness",
                        "Swelling in extremities",
                        "Changes in urination patterns",
                        "Mild anemia"
                    ],
                    exposure: 0.5
                },
                severe: {
                    title: "Severe Kidney Damage",
                    description: "Significant loss of kidney function with multiple symptoms present.",
                    symptoms: [
                        "Persistent swelling",
                        "Shortness of breath",
                        "Nausea or vomiting",
                        "Severe fatigue",
                        "Itching"
                    ],
                    exposure: 0.3
                },
                failure: {
                    title: "Kidney Failure (ESRD)",
                    description: "Kidneys have lost nearly all ability to function, requiring dialysis or transplant.",
                    symptoms: [
                        "Little to no urine output",
                        "Severe swelling",
                        "Difficulty breathing",
                        "Confusion or seizures",
                        "Persistent nausea"
                    ],
                    exposure: 0.2
                }
            };
            
            stageButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Update active button
                    stageButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    // Get stage data
                    const stage = btn.dataset.stage;
                    const stageData = stages[stage];
                    
                    // Update stage information
                    stageTitle.textContent = stageData.title;
                    stageDesc.textContent = stageData.description;
                    
                    // Update symptoms list
                    stageSymptoms.innerHTML = '';
                    stageData.symptoms.forEach(symptom => {
                        const li = document.createElement('li');
                        li.textContent = symptom;
                        stageSymptoms.appendChild(li);
                    });
                    
                    // Change model appearance (in a real app, this would load different models)
                    const modelViewer = document.querySelector('model-viewer');
                    modelViewer.exposure = stageData.exposure;
                });
            });
        }
    </script>
</body>
</html>
